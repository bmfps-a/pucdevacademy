<!DOCTYPE html>
<html>
<head>
    <title>Aula 02 - Regex</title>
    <style>
        body {
            color: #FFF;
            font-size: 25px;
        }
        .textbox {
            font-size: 25px;
        }
        .buttons {
            font-size: 20px;
            width: 100px;
            height: 35px;
        }
    </style>
</head>
<body bgcolor="black">
    <p align="center">*obrigatorio</p>
    <center>
        <span class="mensagem" id="mensagem"></span><br>
        <form name="form1" id="form1" action="" method="get">
            
            <label for="email">Email*</label>
            <input type="text" id="email" name="email" style="width: 600px;" class="textbox" placeholder="Email" pattern="[a-zA-Z0-9._%+\-]+@[a-zA-Z0-9.\-]+\.[a-zA-Z]{2,}" required maxlength="50"><br>
            
            <label for="senha">Senha*</label>
            <input type="password" id="senha" name="senha" style="width: 600px;" class="textbox" placeholder="Senha" pattern=".+" required maxlength="50"><br>
            
            
            <input type="button" id="cmdSend" name="cmdSend" onclick="enviar()" value="enviar" class="buttons">
        </form>
    </center>
</body>
<script>
    let camposvalidos = false;
    function validar(campoid) {
        let campo = document.getElementById(campoid);
        let mensagem = document.getElementById("mensagem");
        if (!campo.checkValidity()) {
            mensagem.textContent = "Email e/ou senha inv√°lidos!";
            return false;
        } else {
            mensagem.textContent = "";
            return true;
        }
    }

    function enviar() {
        camposvalidos = true
        let campos = ["email", "senha"];
        for (let i = 0; i < campos.length; i++) {
        if (!validar(campos[i])) {
            camposvalidos = false;
            break;
        }
    }
        if (camposvalidos === true) {
            alert("Login efetuado com sucesso!")
            console.log(document.getElementById("email").value)
            console.log(document.getElementById("senha").value)
        }
    }
</script>
</html>
